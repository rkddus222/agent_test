{
  "semantic_models": [
    {
      "name": "account",
      "description": "테이블(account_detail)을 기반으로 한 semantic 모델",
      "node_relation": {
        "alias": "account_detail",
        "schema_name": "default_schema",
        "database": "default_db"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "account",
          "type": "primary",
          "expr": "account_no",
          "description": null,
          "role": null,
          "label": null
        }
      ],
      "measures": [
        {
          "name": "account_count",
          "type": "integer",
          "label": "계좌 수",
          "description": "계좌 수",
          "expr": "account_no"
        }
      ],
      "dimensions": [
        {
          "name": "test_dt",
          "type": "date",
          "label": "테스트일자",
          "type_params": {
            "time_granularity": "day",
            "validity_params": null
          },
          "description": "기본 시간 설정용",
          "expr": null
        },
        {
          "name": "account_name",
          "type": "varchar",
          "label": "계좌명",
          "expr": "account_name",
          "description": "계좌명",
          "type_params": null
        },
        {
          "name": "account_type",
          "type": "varchar",
          "expr": "account_type",
          "label": "계좌 종류",
          "description": "계좌 종류",
          "type_params": null
        },
        {
          "name": "open_date",
          "type": "varchar",
          "label": "개설일자",
          "expr": "open_date",
          "description": "개설일자",
          "type_params": null
        },
        {
          "name": "status",
          "type": "varchar",
          "expr": "status",
          "label": "계좌 상태",
          "description": "계좌 상태",
          "type_params": null
        }
      ],
      "label": null,
      "config": {
        "meta": {}
      }
    },
    {
      "name": "branch",
      "description": "테이블(branch_info)을 기반으로 한 semantic 모델",
      "node_relation": {
        "alias": "branch_info",
        "schema_name": "default_schema",
        "database": "default_db"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "branch",
          "type": "primary",
          "expr": "branch_code",
          "description": null,
          "role": null,
          "label": null
        }
      ],
      "measures": [
        {
          "name": "branch_count",
          "type": "integer",
          "label": "지점 수",
          "description": "지점 수",
          "expr": "branch_code"
        }
      ],
      "dimensions": [
        {
          "name": "branch_code",
          "type": "varchar",
          "label": "지점 코드",
          "description": "지점 코드",
          "expr": null,
          "type_params": null
        },
        {
          "name": "branch_name",
          "type": "varchar",
          "label": "지점명",
          "description": "지점명",
          "expr": null,
          "type_params": null
        },
        {
          "name": "region",
          "type": "varchar",
          "label": "지역",
          "description": "지역 (서울, 경기, 부산 등)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "manager_name",
          "type": "varchar",
          "label": "지점장 이름",
          "description": "지점장 이름",
          "expr": null,
          "type_params": null
        }
      ],
      "label": null,
      "config": {
        "meta": {}
      }
    },
    {
      "name": "customer",
      "description": "테이블(customer_info)을 기반으로 한 semantic 모델",
      "node_relation": {
        "alias": "customer_info",
        "schema_name": "default_schema",
        "database": "default_db"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "customer",
          "type": "primary",
          "expr": "customer_id",
          "description": null,
          "role": null,
          "label": null
        }
      ],
      "measures": [
        {
          "name": "customer_count",
          "type": "integer",
          "label": "고객 수",
          "description": "고객 수",
          "expr": "customer_id"
        }
      ],
      "dimensions": [
        {
          "name": "customer_id",
          "type": "varchar",
          "label": "고객 고유 ID",
          "description": "고객 고유 ID",
          "expr": null,
          "type_params": null
        },
        {
          "name": "customer_name",
          "type": "varchar",
          "label": "고객명",
          "description": "고객명",
          "expr": null,
          "type_params": null
        },
        {
          "name": "gender",
          "type": "varchar",
          "label": "성별",
          "description": "성별 (M/F)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "customer_grade",
          "type": "varchar",
          "label": "고객 등급",
          "description": "고객 등급 (VIP, GOLD, NORMAL 등)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "birth_date",
          "type": "varchar",
          "label": "생년월일",
          "description": "생년월일 (YYYYMMDD)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "birth_year",
          "type": "varchar",
          "label": "출생 연도",
          "expr": "SUBSTR(birth_date, 1, 4)",
          "description": "출생 연도 (YYYY)",
          "type_params": null
        },
        {
          "name": "birth_month",
          "type": "varchar",
          "label": "출생 월",
          "expr": "SUBSTR(birth_date, 5, 2)",
          "description": "출생 월 (MM)",
          "type_params": null
        },
        {
          "name": "age",
          "type": "integer",
          "label": "나이",
          "expr": "EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER)\n",
          "description": "현재 기준 나이",
          "type_params": null
        },
        {
          "name": "age_group",
          "type": "varchar",
          "label": "연령대",
          "expr": "CASE\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 20 THEN '10대'\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 30 THEN '20대'\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 40 THEN '30대'\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 50 THEN '40대'\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 60 THEN '50대'\n  WHEN EXTRACT(YEAR FROM CURRENT_DATE) - CAST(SUBSTR(birth_date, 1, 4) AS INTEGER) < 70 THEN '60대'\n  ELSE '70대 이상'\nEND\n",
          "description": "연령대 (10대, 20대, 30대, 40대, 50대, 60대, 70대 이상)",
          "type_params": null
        }
      ],
      "label": null,
      "config": {
        "meta": {}
      }
    },
    {
      "name": "example",
      "description": "쇼핑몰 거래내역 데이터.\n- 주문, 결제, 취소, 환불 등 트랜잭션 데이터를 포함.\n- 상품별, 회원별, 일자별 매출 및 거래건수 분석에 사용.\n",
      "node_relation": {
        "alias": "shop_transaction",
        "schema_name": "default_schema",
        "database": "default_db"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "shop_trsc",
          "type": "primary",
          "expr": "order_id",
          "description": null,
          "role": null,
          "label": null
        },
        {
          "name": "customer",
          "type": "foreign",
          "expr": "customer_id",
          "description": null,
          "role": null,
          "label": null
        },
        {
          "name": "product",
          "type": "foreign",
          "expr": "product_id",
          "description": null,
          "role": null,
          "label": null
        }
      ],
      "measures": [
        {
          "name": "order_amt",
          "type": "decimal",
          "label": "주문금액",
          "description": "주문 시 발생한 총 금액.\n- ex) 상품가격 * 수량\n",
          "expr": "order_amt"
        },
        {
          "name": "refund_amt",
          "type": "decimal",
          "label": "환불금액",
          "description": "환불 처리된 금액 합계",
          "expr": "refund_amt"
        },
        {
          "name": "quantity",
          "type": "decimal",
          "label": "상품수량",
          "description": "거래된 상품 수량 총합",
          "expr": "quantity"
        }
      ],
      "dimensions": [
        {
          "name": "trsc_dt",
          "type": "varchar",
          "label": "거래일자",
          "expr": "trsc_dt",
          "description": "거래가 발생한 날짜.(YYYYMMDD)\n",
          "type_params": null
        },
        {
          "name": "order_id",
          "type": "varchar",
          "label": "주문번호ID",
          "expr": "order_id",
          "description": "주문 고유번호 (주문한 고유 번호)",
          "type_params": null
        },
        {
          "name": "customer_id",
          "type": "varchar",
          "label": "고객ID",
          "expr": "customer_id",
          "description": "거래를 발생시킨 고객의 고유 ID.\n- 고객별 매출/거래 건수 집계 시 group_by 포함\n- ex) \"고객별 구매금액\", \"회원별 주문수\"\n",
          "type_params": null
        },
        {
          "name": "customer_nm",
          "type": "varchar",
          "label": "고객명",
          "expr": "customer_nm",
          "description": "고객 이름 (실명 또는 닉네임)",
          "type_params": null
        },
        {
          "name": "product_id",
          "type": "varchar",
          "label": "상품ID",
          "expr": "product_id",
          "description": "상품 고유 식별자",
          "type_params": null
        },
        {
          "name": "product_nm",
          "type": "varchar",
          "label": "상품명",
          "expr": "product_nm",
          "description": "주문한 상품명.\n- \"상품별 매출\" → group_by 포함\n- 특정 상품 질의 시 filter: product_nm like '%상품명%'\n",
          "type_params": null
        },
        {
          "name": "category_nm",
          "type": "varchar",
          "label": "카테고리명",
          "expr": "category_nm",
          "description": "상품 카테고리 (예: 패션, 전자, 식품 등)\n- 카테고리별 분석 시 group_by 포함\n- ex) \"카테고리별 매출\", \"의류 상품 주문건수\"\n",
          "type_params": null
        },
        {
          "name": "pay_method",
          "type": "varchar",
          "label": "결제수단",
          "expr": "pay_method",
          "description": "결제수단 (카드, 계좌이체, 간편결제 등)\n- 결제수단별 분석 시 group_by 포함\n- ex) \"카드 결제 금액\", \"간편결제 비중\"\n",
          "type_params": null
        },
        {
          "name": "trsc_status",
          "type": "varchar",
          "label": "거래상태",
          "expr": "trsc_status",
          "description": "거래 상태 (결제완료, 취소, 환불 등)\n- 거래 상태별 집계 시 필터 필요\n- ex) \"취소 건수\", \"환불 금액\"\n",
          "type_params": null
        },
        {
          "name": "region_nm",
          "type": "varchar",
          "label": "지역명",
          "expr": "region_nm",
          "description": "고객의 지역 (서울, 경기 등)\n- 지역별 분석 시 group_by 포함\n- ex) \"지역별 매출\", \"서울 고객 주문수\"\n",
          "type_params": null
        },
        {
          "name": "trsc_month",
          "type": "varchar",
          "label": "거래월",
          "expr": "TO_CHAR(TO_DATE(trsc_dt, 'YYYYMMDD'), 'YYYYMM')",
          "description": "거래월(YYYYMM).\n- 월별 트렌드, 월간 매출 분석 시 group_by 포함\n- ex) \"월별 매출 추이\"\n",
          "type_params": null
        }
      ],
      "label": null,
      "config": {
        "meta": {}
      }
    },
    {
      "name": "transaction",
      "description": "테이블(bank_transaction)을 기반으로 한 semantic 모델",
      "node_relation": {
        "alias": "bank_transaction",
        "schema_name": "default_schema",
        "database": "default_db"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "transaction",
          "type": "primary",
          "expr": "id",
          "description": null,
          "role": null,
          "label": null
        },
        {
          "name": "account",
          "type": "foreign",
          "expr": "account_no",
          "description": null,
          "role": null,
          "label": null
        },
        {
          "name": "customer",
          "type": "foreign",
          "expr": "customer_id",
          "description": null,
          "role": null,
          "label": null
        },
        {
          "name": "branch",
          "type": "foreign",
          "expr": "branch_code",
          "description": null,
          "role": null,
          "label": null
        }
      ],
      "measures": [
        {
          "name": "transaction_count",
          "type": "integer",
          "label": "거래 건수",
          "description": "거래 건수",
          "expr": "id"
        },
        {
          "name": "amount",
          "type": "integer",
          "label": "거래 금액",
          "description": "거래 금액",
          "expr": "amount"
        },
        {
          "name": "balance",
          "type": "integer",
          "label": "거래 후 잔액",
          "description": "거래 후 잔액",
          "expr": "balance"
        }
      ],
      "dimensions": [
        {
          "name": "account_no",
          "type": "varchar",
          "label": "계좌 번호",
          "description": "계좌 번호",
          "expr": null,
          "type_params": null
        },
        {
          "name": "tran_type",
          "type": "varchar",
          "label": "거래 종류",
          "description": "거래 종류 (입금, 출금, 이체 등)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "currency",
          "type": "varchar",
          "label": "거래 통화",
          "description": "거래 통화",
          "expr": null,
          "type_params": null
        },
        {
          "name": "tran_datetime",
          "type": "varchar",
          "label": "거래 발생 일시",
          "description": "거래 발생 일시 (YYYYMMDDHH24MISS 형식)",
          "expr": null,
          "type_params": null
        },
        {
          "name": "tran_date",
          "type": "date",
          "label": "거래 발생 일자",
          "expr": "TO_DATE(SUBSTR(tran_datetime, 1, 8), 'YYYYMMDD')",
          "type_params": {
            "time_granularity": "day",
            "validity_params": null
          },
          "description": "거래 발생 일자 (YYYYMMDD)"
        },
        {
          "name": "tran_time",
          "type": "varchar",
          "label": "거래 발생 시각",
          "expr": "SUBSTR(tran_datetime, 9, 6)",
          "description": "거래 발생 시각 (HH24MISS)",
          "type_params": null
        },
        {
          "name": "tran_year",
          "type": "varchar",
          "label": "거래 연도",
          "expr": "SUBSTR(tran_datetime, 1, 4)",
          "description": "거래 발생 연도 (YYYY)",
          "type_params": null
        },
        {
          "name": "tran_month",
          "type": "varchar",
          "label": "거래 월",
          "expr": "SUBSTR(tran_datetime, 1, 6)",
          "description": "거래 발생 연월 (YYYYMM)",
          "type_params": null
        }
      ],
      "label": null,
      "config": {
        "meta": {}
      }
    }
  ],
  "metrics": [
    {
      "name": "total_account_count",
      "description": "총 계좌 수",
      "type": "integer",
      "metric_type": "simple",
      "label": "총 계좌 수",
      "expr": "COUNT_DISTINCT(account__account_count)"
    },
    {
      "name": "total_branch_count",
      "description": "총 지점 수",
      "type": "integer",
      "metric_type": "simple",
      "label": "총 지점 수",
      "expr": "COUNT_DISTINCT(branch__branch_count)"
    },
    {
      "name": "total_customer_count",
      "description": "총 고객 수",
      "type": "integer",
      "metric_type": "simple",
      "label": "총 고객 수",
      "expr": "COUNT_DISTINCT(customer__customer_count)"
    },
    {
      "name": "total_order_amt",
      "description": "총 주문금액.\n- 기본 매출 지표\n- ex) \"이번 달 매출\", \"상품별 매출\"\n",
      "type": "decimal",
      "metric_type": "simple",
      "label": "총주문금액",
      "expr": "SUM(example__order_amt)"
    },
    {
      "name": "total_refund_amt",
      "description": "총 환불금액.\n- 환불 내역 분석 시 사용\n- ex) \"지난달 환불액\"\n",
      "type": "decimal",
      "metric_type": "simple",
      "label": "총환불금액",
      "expr": "SUM(example__refund_amt)"
    },
    {
      "name": "total_order_cnt",
      "description": "총 주문 건수.\n- 주문 건수 관련 질문 시 사용\n- ex) \"이번 달 주문건수\"\n",
      "type": "integer",
      "metric_type": "simple",
      "label": "총주문건수",
      "expr": "COUNT(DISTINCT example__order_id)"
    },
    {
      "name": "total_product_cnt",
      "description": "총 거래 상품 수량.\n- 판매된 상품 총 개수\n",
      "type": "integer",
      "metric_type": "simple",
      "label": "총상품수량",
      "expr": "COUNT(DISTINCT example__quantity)"
    },
    {
      "name": "total_transaction_count",
      "description": "총 거래 건수",
      "type": "integer",
      "metric_type": "simple",
      "label": "총 거래 건수",
      "expr": "COUNT_DISTINCT(transaction__transaction_count)"
    },
    {
      "name": "total_amount",
      "description": "총 거래 금액",
      "type": "integer",
      "metric_type": "simple",
      "label": "총 거래 금액",
      "expr": "SUM(transaction__amount)"
    },
    {
      "name": "avg_amount",
      "description": "평균 거래 금액",
      "type": "integer",
      "metric_type": "simple",
      "label": "평균 거래 금액",
      "expr": "AVG(transaction__amount)"
    }
  ],
  "project_configuration": {
    "time_spine_table_configurations": [],
    "time_spines": []
  },
  "saved_queries": []
}